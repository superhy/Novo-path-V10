need to re-load clustering results first!
![Initial Stage] tiles assimilate
> Prepared tile_keys list of tiles which have been considered for 58 slides
have encodes of all sensitive tiles with shape (81666, 512)
need to load the embedding for 327180 not-yet-attention tiles...
327180 tiles' encodes have been loaded, take 0:51:39.767612 sec
> loaded 327180 remain tiles and their encodes.
prepare: 1. tiles with sensitive labels as similarity source 
                 2. tiles not in clustering as candidate tiles
prepare: 3. key -> tile dict for 58 slides
--- distance threshold for top 0.1: 6.902170181274414
> assimilated 32718 tiles with close distance.
We have 58 slides in list which contain hot-spot tiles
originally attention tiles: 3380 in slide: 23910-158_Sl001-C2-P62
fill surrounding tiles: 2129 in round: 1
fill surrounding tiles: 676 in round: 2
fill surrounding tiles: 148 in round: 3
originally attention tiles: 2637 in slide: 23910-158_Sl002-C2-P62
fill surrounding tiles: 1418 in round: 1
fill surrounding tiles: 487 in round: 2
fill surrounding tiles: 105 in round: 3
originally attention tiles: 1083 in slide: 23910-158_Sl003-C3-P62
fill surrounding tiles: 391 in round: 1
fill surrounding tiles: 109 in round: 2
fill surrounding tiles: 9 in round: 3
originally attention tiles: 5311 in slide: 23910-158_Sl004-C4-P62
fill surrounding tiles: 2893 in round: 1
fill surrounding tiles: 1039 in round: 2
fill surrounding tiles: 223 in round: 3
originally attention tiles: 1475 in slide: 23910-158_Sl005-C5-P62
fill surrounding tiles: 688 in round: 1
fill surrounding tiles: 263 in round: 2
fill surrounding tiles: 48 in round: 3
originally attention tiles: 1253 in slide: 23910-158_Sl006-C5-P62
fill surrounding tiles: 551 in round: 1
fill surrounding tiles: 210 in round: 2
fill surrounding tiles: 38 in round: 3
originally attention tiles: 2503 in slide: 23910-158_Sl007-C6-P62
fill surrounding tiles: 1220 in round: 1
fill surrounding tiles: 352 in round: 2
fill surrounding tiles: 59 in round: 3
originally attention tiles: 2417 in slide: 23910-158_Sl008-C6-P62
fill surrounding tiles: 1108 in round: 1
fill surrounding tiles: 244 in round: 2
fill surrounding tiles: 21 in round: 3
originally attention tiles: 2273 in slide: 23910-158_Sl009-C7-P62
fill surrounding tiles: 1194 in round: 1
fill surrounding tiles: 311 in round: 2
fill surrounding tiles: 55 in round: 3
originally attention tiles: 3924 in slide: 23910-158_Sl010-C7-P62
fill surrounding tiles: 2177 in round: 1
fill surrounding tiles: 620 in round: 2
fill surrounding tiles: 150 in round: 3
originally attention tiles: 2905 in slide: 23910-158_Sl011-C9-P62
fill surrounding tiles: 1896 in round: 1
fill surrounding tiles: 730 in round: 2
fill surrounding tiles: 160 in round: 3
originally attention tiles: 1912 in slide: 23910-158_Sl012-C9-P62
fill surrounding tiles: 1001 in round: 1
fill surrounding tiles: 363 in round: 2
fill surrounding tiles: 72 in round: 3
originally attention tiles: 1444 in slide: 23910-158_Sl013-C10-P62
fill surrounding tiles: 651 in round: 1
fill surrounding tiles: 270 in round: 2
fill surrounding tiles: 54 in round: 3
originally attention tiles: 377 in slide: 23910-158_Sl014-C10-P62
fill surrounding tiles: 81 in round: 1
fill surrounding tiles: 21 in round: 2
fill surrounding tiles: 0 in round: 3
originally attention tiles: 3913 in slide: 23910-158_Sl015-C11-P62
fill surrounding tiles: 2361 in round: 1
fill surrounding tiles: 556 in round: 2
fill surrounding tiles: 109 in round: 3
originally attention tiles: 5065 in slide: 23910-158_Sl016-C11-P62
fill surrounding tiles: 2633 in round: 1
fill surrounding tiles: 482 in round: 2
fill surrounding tiles: 70 in round: 3
originally attention tiles: 1662 in slide: 23910-158_Sl017-C12-P62
fill surrounding tiles: 862 in round: 1
fill surrounding tiles: 276 in round: 2
fill surrounding tiles: 50 in round: 3
originally attention tiles: 695 in slide: 23910-158_Sl018-C12-P62
fill surrounding tiles: 284 in round: 1
fill surrounding tiles: 56 in round: 2
fill surrounding tiles: 6 in round: 3
originally attention tiles: 632 in slide: 23910-158_Sl019-C13-P62
fill surrounding tiles: 137 in round: 1
fill surrounding tiles: 19 in round: 2
fill surrounding tiles: 0 in round: 3
originally attention tiles: 1874 in slide: 23910-158_Sl020-C13-P62
fill surrounding tiles: 809 in round: 1
fill surrounding tiles: 189 in round: 2
fill surrounding tiles: 25 in round: 3
originally attention tiles: 1958 in slide: 23910-158_Sl021-C14-P62
fill surrounding tiles: 915 in round: 1
fill surrounding tiles: 331 in round: 2
fill surrounding tiles: 61 in round: 3
originally attention tiles: 2402 in slide: 23910-158_Sl022-C14-P62
fill surrounding tiles: 1142 in round: 1
fill surrounding tiles: 399 in round: 2
fill surrounding tiles: 74 in round: 3
originally attention tiles: 2958 in slide: 23910-158_Sl023-C15-P62
fill surrounding tiles: 1632 in round: 1
fill surrounding tiles: 524 in round: 2
fill surrounding tiles: 97 in round: 3
originally attention tiles: 550 in slide: 23910-158_Sl024-C15-P62
fill surrounding tiles: 240 in round: 1
fill surrounding tiles: 75 in round: 2
fill surrounding tiles: 10 in round: 3
originally attention tiles: 1257 in slide: 23910-158_Sl025-C16-P62
fill surrounding tiles: 309 in round: 1
fill surrounding tiles: 32 in round: 2
fill surrounding tiles: 2 in round: 3
originally attention tiles: 2931 in slide: 23910-158_Sl026-C17-P62
fill surrounding tiles: 1720 in round: 1
fill surrounding tiles: 639 in round: 2
fill surrounding tiles: 128 in round: 3
originally attention tiles: 1070 in slide: 23910-158_Sl027-C17-P62
fill surrounding tiles: 543 in round: 1
fill surrounding tiles: 219 in round: 2
fill surrounding tiles: 32 in round: 3
originally attention tiles: 1205 in slide: 23910-158_Sl028-C18-P62
fill surrounding tiles: 684 in round: 1
fill surrounding tiles: 249 in round: 2
fill surrounding tiles: 46 in round: 3
originally attention tiles: 2471 in slide: 23910-158_Sl029-C18-P62
fill surrounding tiles: 1381 in round: 1
fill surrounding tiles: 428 in round: 2
fill surrounding tiles: 78 in round: 3
originally attention tiles: 3150 in slide: 23910-158_Sl030-C19-P62
fill surrounding tiles: 1718 in round: 1
fill surrounding tiles: 475 in round: 2
fill surrounding tiles: 100 in round: 3
originally attention tiles: 1538 in slide: 23910-158_Sl031-C19-P62
fill surrounding tiles: 850 in round: 1
fill surrounding tiles: 274 in round: 2
fill surrounding tiles: 48 in round: 3
originally attention tiles: 587 in slide: 23910-158_Sl032-C21-P62
fill surrounding tiles: 226 in round: 1
fill surrounding tiles: 61 in round: 2
fill surrounding tiles: 6 in round: 3
originally attention tiles: 950 in slide: 23910-158_Sl033-C21-P62
fill surrounding tiles: 365 in round: 1
fill surrounding tiles: 111 in round: 2
fill surrounding tiles: 8 in round: 3
originally attention tiles: 2814 in slide: 23910-158_Sl034-C24-P62
fill surrounding tiles: 1563 in round: 1
fill surrounding tiles: 572 in round: 2
fill surrounding tiles: 117 in round: 3
originally attention tiles: 1989 in slide: 23910-158_Sl035-C24-P62
fill surrounding tiles: 969 in round: 1
fill surrounding tiles: 354 in round: 2
fill surrounding tiles: 60 in round: 3
originally attention tiles: 932 in slide: 23910-158_Sl036-C27-P62
fill surrounding tiles: 228 in round: 1
fill surrounding tiles: 68 in round: 2
fill surrounding tiles: 13 in round: 3
originally attention tiles: 873 in slide: 23910-158_Sl037-C29-P62
fill surrounding tiles: 284 in round: 1
fill surrounding tiles: 76 in round: 2
fill surrounding tiles: 4 in round: 3
originally attention tiles: 804 in slide: 23910-158_Sl038-C29-P62
fill surrounding tiles: 292 in round: 1
fill surrounding tiles: 81 in round: 2
fill surrounding tiles: 9 in round: 3
originally attention tiles: 915 in slide: 23910-158_Sl039-C30-P62
fill surrounding tiles: 345 in round: 1
fill surrounding tiles: 92 in round: 2
fill surrounding tiles: 9 in round: 3
originally attention tiles: 1317 in slide: 23910-158_Sl041-C32-P62
fill surrounding tiles: 446 in round: 1
fill surrounding tiles: 137 in round: 2
fill surrounding tiles: 12 in round: 3
originally attention tiles: 1887 in slide: 23910-158_Sl042-C32-P62
fill surrounding tiles: 1028 in round: 1
fill surrounding tiles: 369 in round: 2
fill surrounding tiles: 90 in round: 3
originally attention tiles: 807 in slide: 23910-158_Sl043-C34-P62
fill surrounding tiles: 307 in round: 1
fill surrounding tiles: 93 in round: 2
fill surrounding tiles: 17 in round: 3
originally attention tiles: 726 in slide: 23910-158_Sl044-C34-P62
fill surrounding tiles: 263 in round: 1
fill surrounding tiles: 81 in round: 2
fill surrounding tiles: 9 in round: 3
originally attention tiles: 500 in slide: 23910-158_Sl045-C35-P62
fill surrounding tiles: 155 in round: 1
fill surrounding tiles: 30 in round: 2
fill surrounding tiles: 2 in round: 3
originally attention tiles: 1158 in slide: 23910-158_Sl046-C35-P62
fill surrounding tiles: 513 in round: 1
fill surrounding tiles: 157 in round: 2
fill surrounding tiles: 26 in round: 3
originally attention tiles: 1352 in slide: 23910-158_Sl047-C36-P62
fill surrounding tiles: 609 in round: 1
fill surrounding tiles: 185 in round: 2
fill surrounding tiles: 36 in round: 3
originally attention tiles: 331 in slide: 23910-158_Sl048-C36-P62
fill surrounding tiles: 145 in round: 1
fill surrounding tiles: 44 in round: 2
fill surrounding tiles: 2 in round: 3
originally attention tiles: 393 in slide: 23910-158_Sl049-C40-P62
fill surrounding tiles: 152 in round: 1
fill surrounding tiles: 52 in round: 2
fill surrounding tiles: 4 in round: 3
originally attention tiles: 409 in slide: 23910-158_Sl050-C40-P62
fill surrounding tiles: 152 in round: 1
fill surrounding tiles: 41 in round: 2
fill surrounding tiles: 1 in round: 3
originally attention tiles: 1974 in slide: 23910-158_Sl052-C42-P62
fill surrounding tiles: 871 in round: 1
fill surrounding tiles: 207 in round: 2
fill surrounding tiles: 24 in round: 3
originally attention tiles: 2844 in slide: 23910-158_Sl053-C46-P62
fill surrounding tiles: 1598 in round: 1
fill surrounding tiles: 481 in round: 2
fill surrounding tiles: 115 in round: 3
originally attention tiles: 3197 in slide: 23910-158_Sl054-C46-P62
fill surrounding tiles: 1904 in round: 1
fill surrounding tiles: 646 in round: 2
fill surrounding tiles: 142 in round: 3
originally attention tiles: 2360 in slide: 23910-158_Sl055-C47-P62
fill surrounding tiles: 1235 in round: 1
fill surrounding tiles: 364 in round: 2
fill surrounding tiles: 76 in round: 3
originally attention tiles: 1921 in slide: 23910-158_Sl056-C47-P62
fill surrounding tiles: 1080 in round: 1
fill surrounding tiles: 363 in round: 2
fill surrounding tiles: 77 in round: 3
originally attention tiles: 4833 in slide: 23910-158_Sl057-C48-P62
fill surrounding tiles: 3126 in round: 1
fill surrounding tiles: 1155 in round: 2
fill surrounding tiles: 290 in round: 3
originally attention tiles: 1657 in slide: 23910-158_Sl058-C49-P62
fill surrounding tiles: 810 in round: 1
fill surrounding tiles: 298 in round: 2
fill surrounding tiles: 60 in round: 3
originally attention tiles: 3808 in slide: 23910-158_Sl059-C49-P62
fill surrounding tiles: 1752 in round: 1
fill surrounding tiles: 298 in round: 2
fill surrounding tiles: 38 in round: 3
originally attention tiles: 4821 in slide: 23910-158_Sl060-C55-P62
fill surrounding tiles: 2993 in round: 1
fill surrounding tiles: 869 in round: 2
fill surrounding tiles: 202 in round: 3
> filled void 80759 tiles
store the assimilate tiles at: D:/FLINC_dataset/slides/yang_p62\models / assimilate_ft_ass-encode-ResNet18_unsupervised2023-11-06.pkl
